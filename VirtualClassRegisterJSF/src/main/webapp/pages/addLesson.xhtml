<ui:composition
  template="/templates/page-template.xhtml"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="jakarta.faces.facelets"
  xmlns:h="jakarta.faces.html"
  xmlns:f="jakarta.faces.core"
  xmlns:p="http://primefaces.org/ui"
>
  <ui:define name="title">Virtual Class Register - Add Lesson</ui:define>

  <ui:define name="content">
    <p:panel styleClass="mb-4">
      <h:form id="form">
        <p:panelGrid columns="2" layout="grid">
          <p:outputLabel for="semester">Semester</p:outputLabel>
          <p:selectOneMenu
            id="semester"
            value="#{lessonBB.lesson.semester.idSemester}"
            required="true"
            requiredMessage="Semester is required!"
          >
            <f:selectItem itemLabel="Select Semester" itemValue="" />
            <f:selectItems
              value="#{semesterBB.list}"
              var="s"
              itemLabel="#{s.name} #{s.startDate} - #{s.endDate}"
              itemValue="#{s.idSemester}"
            />
          </p:selectOneMenu>

          <p:outputLabel for="class">Class</p:outputLabel>
          <p:selectOneMenu
            id="class"
            value="#{lessonBB.lesson.clazz.idClass}"
            required="true"
            requiredMessage="Class is required!"
          >
            <f:selectItem itemLabel="Select Class" itemValue="" />
            <f:selectItems
              value="#{classBB.list}"
              var="c"
              itemLabel="#{c.name}"
              itemValue="#{c.idClass}"
            />
          </p:selectOneMenu>

          <p:outputLabel for="subject">Subject</p:outputLabel>
          <p:selectOneMenu
            id="subject"
            value="#{lessonBB.lesson.teacherteachessubject.idTeacherTeachesSubject}"
            required="true"
            requiredMessage="Subject is required!"
          >
            <f:selectItem itemLabel="Select Subject" itemValue="" />
            <f:selectItems
              value="#{teacherteachessubjectBB.list}"
              var="t"
              itemLabel="#{t.subject.name} - #{t.user.forename} #{t.user.surname}"
              itemValue="#{t.idTeacherTeachesSubject}"
            />
          </p:selectOneMenu>

          <p:outputLabel for="day-of-the-week">Day of the week</p:outputLabel>
          <p:selectOneMenu
            id="day-of-the-week"
            value="#{lessonBB.lesson.day}"
            required="true"
            requiredMessage="Day is required!"
          >
            <f:selectItem itemLabel="Select Day of the week" itemValue="" />
            <f:selectItem itemLabel="Monday" itemValue="Poniedziałek" />
            <f:selectItem itemLabel="Tuesday" itemValue="Wtorek" />
            <f:selectItem itemLabel="Wednesday" itemValue="Środa" />
            <f:selectItem itemLabel="Thursday" itemValue="Czwartek" />
            <f:selectItem itemLabel="Friday" itemValue="Piątek" />
            <f:selectItem itemLabel="Saturday" itemValue="Sobota" />
            <f:selectItem itemLabel="Sunday" itemValue="Niedziela" />
          </p:selectOneMenu>

          <p:outputLabel for="start" value="Start Time" />
          <p:datePicker
            id="start"
            value="#{lessonBB.start}"
            timeOnly="true"
            pattern="HH:mm"
            required="true"
            requiredMessage="Start is required!"
          />

          <p:outputLabel for="end" value="End Time" />
          <p:datePicker
            id="end"
            value="#{lessonBB.end}"
            timeOnly="true"
            pattern="HH:mm"
            required="true"
            requiredMessage="End is required!"
          />
        </p:panelGrid>

        <p:commandButton
          styleClass="m-1"
          value="Add Lesson"
          action="#{lessonBB.addLesson()}"
          update="@form"
        />
        <p:linkButton
          styleClass="m-1"
          outcome="administrationPanel"
          value="Go back"
        />

        <p:messages id="messages" />
      </h:form>
    </p:panel>
  </ui:define>
</ui:composition>
